<!DOCTYPE html>
<html lang="id">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Bastumbas - Jualan Online</title>
  <style>
    * { box-sizing: border-box; }
    body {
      margin: 0;
      font-family: Arial, sans-serif;
      background: #fff;
      color: #333;
    }

    header {
      background: #444;
      color: #fff;
      padding: 15px;
      text-align: center;
    }

    .grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
      gap: 15px;
      padding: 15px;
    }

    .product {
      border: 1px solid #ddd;
      border-radius: 10px;
      padding: 10px;
      text-align: center;
      background: #fafafa;
      position: relative;
    }

    /* Slider */
    .slider {
      position: relative;
      overflow: hidden;
      border-radius: 10px;
    }
    .slides {
      display: flex;
      transition: transform 0.3s ease;
      touch-action: pan-x;
    }
    .slides img {
      width: 100%;
      height: 150px;
      object-fit: cover;
      flex-shrink: 0;
      background: #ccc;
    }
    .prev, .next {
      position: absolute;
      top: 50%;
      transform: translateY(-50%);
      background: rgba(0,0,0,0.5);
      color: #fff;
      border: none;
      padding: 5px 10px;
      cursor: pointer;
      border-radius: 50%;
    }
    .prev { left: 5px; }
    .next { right: 5px; }

    /* Pop-up */
    .popup {
      display: none;
      position: fixed;
      z-index: 1000;
      left: 0; top: 0;
      width: 100%; height: 100%;
      background: rgba(0,0,0,0.7);
      justify-content: center;
      align-items: center;
    }
    .popup-content {
      background: #fff;
      width: 90%;
      max-width: 500px;
      border-radius: 10px;
      overflow: hidden;
      display: flex;
      flex-direction: column;
    }
    .popup-slider {
      position: relative;
      overflow: hidden;
    }
    .popup-slides {
      display: flex;
      transition: transform 0.3s ease;
      touch-action: pan-x;
    }
    .popup-slides img {
      width: 100%;
      height: 250px;
      object-fit: cover;
      flex-shrink: 0;
      background: #ccc;
    }
    .popup-desc {
      max-height: 150px;
      overflow-y: auto;
      padding: 10px;
      font-size: 14px;
      line-height: 1.4;
    }
    .popup-close {
      position: absolute;
      top: 10px; right: 10px;
      background: red;
      color: #fff;
      border: none;
      border-radius: 50%;
      width: 30px; height: 30px;
      cursor: pointer;
    }
    .popup .prev, .popup .next {
      top: 50%;
    }

    /* Responsive HP: hilangkan panah */
    @media (max-width: 768px) {
      .prev, .next {
        display: none;
      }
    }
  </style>
</head>
<body>
  <header>
    <h1>Selamat Datang di Bastumbas</h1>
  </header>

  <main class="grid">
    <!-- Produk contoh -->
    <div class="product" data-desc="Ini deskripsi produk pertama yang panjang banget biar bisa discroll di popup. Lorem ipsum dolor sit amet, consectetur adipiscing elit. Sed non risus. Suspendisse lectus tortor, dignissim sit amet, adipiscing nec, ultricies sed, dolor.">
      <div class="slider">
        <div class="slides">
          <img src="https://via.placeholder.com/300x150?text=1" alt="">
          <img src="https://via.placeholder.com/300x150?text=2" alt="">
          <img src="https://via.placeholder.com/300x150?text=3" alt="">
        </div>
        <button class="prev">&#10094;</button>
        <button class="next">&#10095;</button>
      </div>
      <h3>Produk 1</h3>
      <button class="add-to-cart">Tambah ke Keranjang</button>
    </div>

    <div class="product" data-desc="Produk kedua ini juga punya deskripsi panjang. Lorem ipsum dolor sit amet, consectetur adipiscing elit. Phasellus fermentum in, dolor. Pellentesque facilisis.">
      <div class="slider">
        <div class="slides">
          <img src="https://via.placeholder.com/300x150?text=A" alt="">
          <img src="https://via.placeholder.com/300x150?text=B" alt="">
        </div>
        <button class="prev">&#10094;</button>
        <button class="next">&#10095;</button>
      </div>
      <h3>Produk 2</h3>
      <button class="add-to-cart">Tambah ke Keranjang</button>
    </div>
  </main>

  <!-- Popup -->
  <div class="popup" id="popup">
    <div class="popup-content">
      <button class="popup-close">&times;</button>
      <div class="popup-slider">
        <div class="popup-slides"></div>
        <button class="prev">&#10094;</button>
        <button class="next">&#10095;</button>
      </div>
      <div class="popup-desc"></div>
    </div>
  </div>

  <script>
    // Slider logic
    function initSlider(sliderSelector, slidesSelector) {
      document.querySelectorAll(sliderSelector).forEach(slider => {
        const slides = slider.querySelector(slidesSelector);
        const prev = slider.querySelector('.prev');
        const next = slider.querySelector('.next');
        let index = 0;
        const total = slides.children.length;

        function showSlide(i) {
          index = (i + total) % total;
          slides.style.transform = `translateX(-${index * 100}%)`;
        }

        if (prev && next) {
          prev.addEventListener('click', () => showSlide(index - 1));
          next.addEventListener('click', () => showSlide(index + 1));
        }

        // Touch swipe
        let startX = 0;
        slides.addEventListener('touchstart', e => {
          startX = e.touches[0].clientX;
        });
        slides.addEventListener('touchend', e => {
          let endX = e.changedTouches[0].clientX;
          if (endX < startX - 50) showSlide(index + 1);
          if (endX > startX + 50) showSlide(index - 1);
        });
      });
    }

    initSlider('.slider', '.slides');
    initSlider('.popup-slider', '.popup-slides');

    // Popup
    const popup = document.getElementById('popup');
    const popupSlides = popup.querySelector('.popup-slides');
    const popupDesc = popup.querySelector('.popup-desc');
    const popupClose = popup.querySelector('.popup-close');

    document.querySelectorAll('.product').forEach(product => {
      product.addEventListener('click', e => {
        if (e.target.classList.contains('add-to-cart')) return;
        popup.style.display = 'flex';
        popupSlides.innerHTML = product.querySelector('.slides').innerHTML;
        popupDesc.textContent = product.dataset.desc;
        initSlider('.popup-slider', '.popup-slides');
      });
    });

    popupClose.addEventListener('click', () => {
      popup.style.display = 'none';
    });

    window.addEventListener('click', e => {
      if (e.target === popup) popup.style.display = 'none';
    });
  </script>
</body>
</html>
